### ------------------------------------------------------------------------
### variables
### ------------------------------------------------------------------------
@host = 127.0.0.1
@port = 5000
@baseUri = http://{{host}}:{{port}}
@gqlUri = {{baseUri}}/graphql
@contentType = application/json
@requestType = GraphQL
// @authToken = {{SignInMutation.response.body.$.data.signIn}}
// kuartzo jwt with rolesPath: 'scope.profile.roles'
@authToken = eyJhbGciOiJSUzI1NiIsImtpZCI6InB1YmxpYzpoeWRyYS5vcGVuaWQuaWQtdG9rZW4iLCJ0eXAiOiJKV1QifQ.eyJhY3IiOiIwIiwiYXRfaGFzaCI6IjROWGQzZzRURmZyMmtMeXFiWDJXdVEiLCJhdWQiOlsib2F1dGgtcGtjZTUiXSwiYXV0aF90aW1lIjoxNjc2NTA3NTkyLCJleHAiOjE2NzY1MTExOTgsImlhdCI6MTY3NjUwNzU5OCwiaXNzIjoiaHR0cHM6Ly9rdWFydHpvLmNvbTo0NDQvIiwianRpIjoiNmFjYTk3MWYtMTY3My00NjcyLThlMjItZjUzYWQzMzZmZjJlIiwicmF0IjoxNjc2NTA3NTg4LCJzY29wZSI6eyJhZGRyZXNzIjp7fSwiZW1haWwiOnt9LCJwaG9uZSI6e30sInByb2ZpbGUiOnsiY2l2aWxpYW5JZE51bWJlciI6IjA5ODc5NDYyMCIsImNvdW50cnkiOiJQUlQiLCJkYXRlT2ZCaXJ0aCI6IjE5NzEtMTItMTkiLCJkb2N1bWVudE51bWJlciI6IjA5ODc5NDYyIDAgWlozIiwiZG9jdW1lbnRUeXBlIjoiQ2FydMOjbyBkZSBDaWRhZMOjbyIsImdlbmRlciI6Ik0iLCJnaXZlbk5hbWUiOiJNw6FyaW8gQWxiZXJ0byIsImdpdmVuTmFtZUZhdGhlciI6IkFsYmVydG8iLCJnaXZlbk5hbWVNb3RoZXIiOiJNYXJpYSBEYSBHcmHDp2EgRGUgT2xpdmVpcmEgTWVuZGVzIiwiaGVhbHRoTnVtYmVyIjoiMjg1MTkxNjU5IiwiaGVpZ2h0IjoiMSw4MSIsImlzc3VpbmdFbnRpdHkiOiJSZXDDumJsaWNhIFBvcnR1Z3Vlc2EiLCJsb2NhbE9mUmVxdWVzdCI6IkNSQ2l2LiBGaWd1ZWlyYSBkYSBGb3oiLCJuYXRpb25hbGl0eSI6IlBSVCIsInBhcmVudHMiOiJBbGJlcnRvIERlIEFuZHJhZGUgTW9udGVpcm8gKiBNYXJpYSBEYSBHcmHDp2EgRGUgT2xpdmVpcmEgTWVuZGVzIE1vbnRlaXJvIiwicm9sZXMiOlsiYWRtaW4iLCJ1c2VyIl0sInNvY2lhbFNlY3VyaXR5TnVtYmVyIjoiMTExMDM0NzgyNDIiLCJ0YXhObyI6IjE4MjY5MjEyNCIsInZhbGlkaXR5QmVnaW5EYXRlIjoiMjAxOC0wNS0wOCIsInZhbGlkaXR5RW5kRGF0ZSI6IjIwMjgtMDUtMDgifX0sInNpZCI6IjRiNmJhZjkyLTU2ZmMtNDA4Yy05ZDc5LThkMWNhMDA2ZDNhMiIsInN1YiI6IjE4MjY5MjEyNCJ9.kkNM6DbR0lmM0ahYixtRZEyQJUTy13iAf0h2HDzkYpIxZDL9iVaGv3Co2Bk4PgMb-RtNBFMkJ1LYMyPaJrI7c1hxghQdQyPDa3sjvCqG3KrxMp-FCCnuZvbVbuSxN9F2ruXymaJdaloMRgGUEfuM8oavWo-hlvsc_NUIXXjbdAGj2KkwuR3jvC22hkBMZi8nx_h0TIc3ouyb2KTQxqDSbkCyBmILAljr0R86HsjEhxuGKhezmfjSfEyrlJWERHCY9vq39AjNOfujplx2Mr7v6lG2kFkpX3GkZp6GxFk4V1DiIBNQd9oCiziIzIH5VHG6KZF_7PKrg2sghXSKMY9Ncy_6xsAJ5VYA12kPyatQs0nFutXln_lZEhaFldccBNFaOuFL3xgyiykapQf-OhDFZccrEsDTSMAmkSoo2uv43IYgSLLctRvn-wjdTGgoc2ApFA40TAMWAOZ1iblnIaD1S8VoXpfXoKaVWkffUtKqIIKVZwlRTVrFW5mlJJF22ZlIo5Z47G9WoJkvcAMdgeDd5rhg_EzpACcrkdTlSQBLorIj4O8-mi6aQA8HPtQV3we4hlmOpz4d_tktZi8jlHd8shuo_LCJJmnw7-y4O2r5gRsV2dNz6L3hdTkevv4IXLlmm9CGu5W4XhIA6zxR2I-voeucLSU-eHLTx_6-sm6UtwM

### mutationCreateBusinesses
// @name mutationCreateBusinesses

POST {{gqlUri}} HTTP/1.1
Content-Type: {{contentType}}
X-REQUEST-TYPE: {{requestType}}
Authorization: Bearer {{authToken}}

mutation createBusinesses($businessCreateInput: [BusinessCreateInput!]!){
  createBusinesses(input: $businessCreateInput) {
    businesses{
      name
    }
  }
}

{
  "businessCreateInput": [
    {
      "businessId": "links",
      "name": "Links",
      "address": "R.Dr.Jose Luis Mendes Pinheiro, No 5",
      "city": "Figueira da Foz",
      "state": "Coimbra",
      "location": {
        "longitude": 28.00,
        "latitude": 14.00,
        "height": 7
      }
    }
  ]
}

### queryBusiness
// @name queryBusiness

POST {{gqlUri}} HTTP/1.1
Content-Type: {{contentType}}
X-REQUEST-TYPE: {{requestType}}
Authorization: Bearer {{authToken}}

query businesses{
  businesses{
    businessId
    name
    address
    city
    state
  }
}

### queryFuzzyBusinessByName
// @name queryFuzzyBusinessByName

POST {{gqlUri}} HTTP/1.1
Content-Type: {{contentType}}
X-REQUEST-TYPE: {{requestType}}
// Authorization: Bearer {{authToken}}

query fuzzyBusinessByName($searchString: String){
  fuzzyBusinessByName(searchString:$searchString){
    businessId
    name
  }
}

### subscriptionBusinessCreated
// @name subscriptionBusinessCreated

POST {{gqlUri}} HTTP/1.1
Content-Type: {{contentType}}
X-REQUEST-TYPE: {{requestType}}
// Authorization: Bearer {{authToken}}

subscription businessCreated{
  businessCreated{
    createdBusiness{
      businessId
      name
      city
    }
  }
}